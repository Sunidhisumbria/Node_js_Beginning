"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectDb=exports.LoggedInUserOnly=void 0;var _mongoose=_interopRequireDefault(require("mongoose")),_jsonwebtoken=_interopRequireDefault(require("jsonwebtoken"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var connectDb=function(){_mongoose.default.connect("mongodb://127.0.0.1:27017/sunidhiDb").then(function(e){console.log("Database is connected with host:-".concat(e.connection.host))}).catch(function(e){console.log("************** Database is not connected ***************** ",e)})};exports.connectDb=connectDb;var LoggedInUserOnly=function(e,o,n){var t=e.cookies["test-token"];if(!t)return o.status(401).json({success:!1,message:"Unauthorized user,please login !"});var s=_jsonwebtoken.default.verify(t,"your-secret-key");e.user=s.userId,n()};exports.LoggedInUserOnly=LoggedInUserOnly;
//# sourceMappingURL=db.min.js.map
